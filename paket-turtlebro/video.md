# Работа с камерой

В стандартной комплектации на роботу установленна фронтальная камера. В настройках по умолчанию обработка камеры откдючена для экономрии ресурсов робота.

Подключить работу камеры необходимо в настройках файла [turtlebro.launch](params.md). Или производить в ручную командой 

```text
roslaunch turtlebro uvc_camera.launch
```

Для простого визуального наблюдение через камеру рекомендуется использовать `uvc_camera`

## Пакет uvc\_camera

Пакет публикует сжатые данные `sensor_msgs/CompressedImage` в топик `front_camera/compressed` 

Официальная документация пакета  [http://wiki.ros.org/uvc\_camera](http://wiki.ros.org/uvc_camera)

## Пакет cv\_camera

Данный пакет работает с камерой через библиотеку `ОpenCV`, может работать как в режиме `node` так и `nodelet`

Конфигурация в файле `cv_camera.launch` данные в формате `sensor_msgs/Image` в топик `front_camera/image_raw` Данные передаються в не компресионом виде, поэтому удобно для использования для программной обработки.

## Работа с камерой через OpenCV

На работе установлена библиотке `OpenCV`, поэтому с камерой можно работать напрямую подключившись к камере "стандартными" для opencv функциями вида  `cap = cv2.VideoCapture(0)`

Далее производить с видео все необходимые манипуляции, и после этого при необходимости публиковать видео в топики.

Пример программы на pytnon, которая используя `opencv` следит за цветным мячиком и управляет роботом [ball\_tracking.py](https://github.com/voltbro/turtlebro_examples/blob/master/src/ball_tracking.py) 

